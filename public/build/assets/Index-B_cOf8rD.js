import{r as l,j as e,Y as j}from"./app-BhVfn1oG.js";import{I as d}from"./index-CoD__97l.js";import{d as n}from"./index-DQyQdIxH.js";import{Q as u,B as r}from"./react-toastify.esm-CKf9o2XU.js";import{P as b}from"./ReactToastify-CqVbXWEe.js";import{L as y}from"./Layout-BLsYlLAs.js";import"./NotificationList-D7J_jy85.js";import"./index-CHXlp1va.js";const E=({users:a,notifications:i,user:c})=>{const[o,x]=l.useState(!1),[t,N]=l.useState(null),m=s=>{n.Inertia.put(`/users/${t.id}`,s)},h=s=>{switch(s){case"admin":return"bg-green-100";case"technician":return"bg-yellow-100";default:return"self-center"}},p=s=>{r.warn(e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"Are you sure you want to delete this user?"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("button",{onClick:()=>{n.Inertia.delete(route("users.destroy",s)),r.dismiss()},className:"bg-red-500 text-white py-1 px-3 rounded mr-2",children:"Yes"}),e.jsx("button",{onClick:()=>r.dismiss(),className:"bg-gray-500 text-white py-1 px-3 rounded",children:"No"})]})]}),{autoClose:!1,closeButton:!1})};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Users"}),e.jsx(y,{notifications:i,user:c,children:e.jsxs("div",{className:"container mx-auto p-4 dark:bg-gray-900 dark:text-white",children:[e.jsx(u,{}),e.jsx("header",{className:"flex justify-between items-center mb-4",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),e.jsx(d,{href:"/users/create",className:"bg-blue-500 text-white px-4 py-2 rounded mb-4 inline-block dark:bg-blue-700",children:"Create User"}),e.jsxs("table",{className:"table-auto w-full self-center",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"ID"}),e.jsx("th",{className:"px-4 py-2",children:"Name"}),e.jsx("th",{className:"px-4 py-2",children:"Email"}),e.jsx("th",{className:"px-4 py-2",children:"Roles"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:a.data.map(s=>e.jsxs("tr",{className:h(s.roles),children:[e.jsx("td",{className:"border px-4 py-2",children:s.id}),e.jsx("td",{className:"border px-4 py-2",children:s.name}),e.jsx("td",{className:"border px-4 py-2",children:s.email}),e.jsx("td",{className:"border px-4 py-2",children:s.roles.join(", ")}),e.jsxs("td",{className:"border px-4 py-2 w-auto",children:[e.jsx(d,{href:`/users/${s.id}/edit`,className:" float-end my-1 bg-green-500 hover:bg-green-700 text-white px-4 py-2 rounded mr-2 dark:bg-green-700",children:"Edit"}),e.jsx("button",{onClick:()=>p(s.id),className:"bg-red-500 text-white px-4 py-2 rounded dark:bg-red-700",children:"Delete"})]})]},s.id))})]}),e.jsx(b,{links:a.links}),t&&e.jsx(EditUserModal,{isOpen:o,onRequestClose:()=>x(!1),user:t,onSave:m})]})})]})};export{E as default};
